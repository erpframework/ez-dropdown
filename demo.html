<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!--dependencies start -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

  <link href="dist/ez-dropdown.min.css" rel="stylesheet"/>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.js"></script>
  <!--dependencies end -->

  <script src="src/ez-dropdown.js"></script>

  <script>
    angular.module('myApp', ['ez.dropdown'])

    .controller('AppCtrl', ['$scope', function AppCtrl($scope) {

      $scope.items = [
        {
          name: 'First Item',
          links: ['1A', '1B']
        }, {
          name: 'Second Item',
          links: ['2A', '2B']
        }, {
          name: 'Third Item',
          links: ['3A', '3B']
        }
      ];

      $scope.toggled = function(open) {
        $scope.msgs.push('call on-toggle => ' + open);
      };

      $scope.msgs = [];

      $scope.inputDropdown = false;
      $scope.log = function(msg) {
        console.log(msg);
        $scope.msgs.push(msg);
        $scope.inputDropdown = false;
      };

      $scope.dropdownEnabled = true;

    }])
;

  </script>
</head>
<body ng-app="myApp">
  <div ng-controller="AppCtrl" class="container-fluid">
    <div class="page-header">
      <h1>ez-dropdown</h1>
    </div>
    <div class="page-body">
      <span dropdown select="true" on-toggle="toggled">
        <a dropdown-toggle>
          Dropdown that closes on click inside!
        </a>
        <ul>
          <li><a ng-click="log('hey dude')">Hey dude</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
        </ul>
      </span>
      <hr>
      <span dropdown click-inside="true" no-backdrop="true" mobile-disabled="true">
        <a dropdown-toggle>
          Dropdown that stays open on click inside with pointer!??
        </a>
        <ul class="dropdown-pointer pull-right">
          <li><a ng-click="log('hey dude')">Hey dude</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
        </ul>
      </span>

      <hr>

      <div dropdown style="width: 400px;" is-open="inputDropdown">
        <div dropdown-toggle>
          <label class="control-label">Input Toggle</label>
          <input readonly="true" type="text" ng-model="iText" class="form-control"/>
        </div>
        <ul class="dropdown-pointer pull-right">
          <li><a ng-click="iText = 'hey dude'">Hey dude</a></li>
          <li><a ng-click="iText = 'hey dudette'">Hey dudette</a></li>
        </ul>
      </div>

      <hr>

      <p>Inside ng-repeat</p>

      <ul>
        <li ng-repeat="item in items">
          <div dropdown>
            <a dropdown-toggle>
              {{ item.name }} <span class="caret"></span>
            </a>
            <ul>
              <li ng-repeat="link in item.links"><a ng-click="log(link)">{{ link }}</a></li>
            </ul>
          </div>
        </li>
      </ul>

      <hr>

      <div dropdown is-open="foo" click-inside="true">
        <a dropdown-toggle>Dropdown with click inside & custom close</a>
        <div style="padding: 10px;">
          <input type="text" class="form-control"/>
          <hr>
          <a ng-click="foo = !foo" class="btn btn-primary">Save</a>
        </div>
      </div>

      <hr>

      <a class="btn btn-primary" ng-click="openDropdown = !openDropdown">Open a dropdown with a random button</a>
      <br>

      <div dropdown is-open="openDropdown" class="dropup">
        <ul>
          <li>
            <a ng-click="log('hey dude')">Hey dude</a>
            <a class="pull-right">
              <i class="glyphicon glyphicon-trash"></i>
            </a>
          </li>
          <li>
            <a ng-click="log('hey dudette')">Hey dudette</a>
            <a class="pull-right">
              <i class="glyphicon glyphicon-trash"></i>
            </a>
          </li>
        </ul>
      </div>

      <hr>

      <br>

      <div dropdown absolute="true">
        <a dropdown-toggle>Absolute Dropdown (moves dropdown to body tag)</a>
        <ul>
          <li><a ng-click="log('hey dude')">Hey dude</a></li>
          <li><a ng-click="log('hey dudette')">Hey dudette</a></li>
        </ul>
      </div>

      <hr>

      <h4>Log</h4>
      <ul ng-repeat="msg in msgs track by $index">
        <li>{{ msg }}</li>
      </ul>

    </div>
  </div>
</body>

</html>

