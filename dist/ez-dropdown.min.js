angular.module("ez.dropdown",[]).directive("dropdown",["$document","$compile",function(a,b){return{restrict:"C",controller:function(c){var d,e,f,g,h=!1,i=!1,j=function(k){g&&e[0].contains(k.target)||(h?(a.off("click",j),d.removeClass("open")):(i||(i=!0,b(e.clone())(c,function(a){d.append(a)})),setTimeout(function(){a.on("click",j)}),d.addClass("open")),h=!h,"function"==typeof f&&f(h),c.$apply())};this.toggleMenu=j,this.init=function(a,b,h){d=a,e=b,f=null!==h.onToggle?c.$eval(h.onToggle):null,g=h.hasOwnProperty("clickInside")},c.$on("$destroy",function(){a.off("click",j),d=e=null})},compile:function(a){var b=a.find(".dropdown-menu").remove();return function(a,c,d,e){e.init(c,b,d)}}}}]).directive("dropdownToggle",["$document","$compile",function(){return{restrict:"C",require:"^dropdown",link:function(a,b,c,d){b.on("click",d.toggleMenu),a.$on("$destroy",function(){b.off("click",d.toggle)})}}}]);